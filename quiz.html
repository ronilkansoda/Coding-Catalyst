<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Javascript Quiz</title>
    <link rel="stylesheet" href="mcq.css">
</head>
<style>
    body {
    font-family: Arial, sans-serif;
    margin: 20px;
    padding: 0;
    background-color: #f5f5f5;
}

h1 {
    text-align: center;
    color: #333;
}

#quiz-container {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 20px;
}

label {
    display: block;
    margin-bottom: 10px;
}

input[type="radio"] {
    margin-right: 5px;
}

#submit-btn {
    display: block;
    margin: 0 auto;
    padding: 10px 20px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

#result-container {
    margin-top: 20px;
}

#result-container h2 {
    color: #333;
    font-size: 20px;
    margin-bottom: 10px;
}

#result-container p {
    margin: 5px 0;
}
</style>
<body>
    <h1>JavaScript Quiz</h1>
    <div id="quiz-container">
        <!-- Questions and options will be dynamically added here -->
    </div>
    <button id="submit-btn">Submit</button>
    <div id="result-container"></div>

    <script src="mcq4.js"></script>
</body>
<script>
    // Sample MCQs
function convertMCQFormatToObjects(mcqString)
{
    const mcqsArray = mcqString.split("\n\n");

    const mcqs = mcqsArray.map(mcq => {
        const lines = mcq.split("\n");

        // Extract question
        const question = lines[0];

        // Extract options and correct answer
        const optionsAndAnswer = lines.slice(1);
        const options = optionsAndAnswer.slice(0, optionsAndAnswer.length - 1);
        const answer = optionsAndAnswer[optionsAndAnswer.length - 1];

        // Extract correct answer from "Correct Answer: ..."
        const correctAnswer = answer.substring(answer.indexOf(": ") + 2);

        return {
            question: question.substring(question.indexOf(": ") + 2),
            options,
            answer: correctAnswer
        };
    });

    return mcqs;
}

const mcqString = `What does the acronym DOM stand for in web development?
A) Document Object Model
B) Display Object Method
C) Data Oriented Model
D) Document Order Management
Correct Answer: A) Document Object Model

Which keyword is used to declare a variable in JavaScript?
A) dim
B) var
C) int
D) let
Correct Answer: D) let

What does NaN stand for in JavaScript?
A) Not a Number
B) Number and Null
C) New Accessible Node
D) None of the above
Correct Answer: A) Not a Number

What does the 'this' keyword refer to in JavaScript?
A) The previous function
B) The global object
C) The current object
D) The parent object
Correct Answer: C) The current object

Which method is used to add a new element to the end of an array?
A) push()
B) pop()
C) shift()
D) unshift()
Correct Answer: A) push()

What is the result of 10 + '20' in JavaScript?
A) 1020
B) 30
C) '1020'
D) Error
Correct Answer: A) 1020

Which of the following is NOT a valid JavaScript data type?
A) string
B) boolean
C) array
D) object
Correct Answer: C) array

What does the === operator do in JavaScript?
A) Compares values loosely
B) Compares values and types
C) Assigns a value
D) Concatenates strings
Correct Answer: B) Compares values and types

What is the purpose of the 'use strict' directive in JavaScript?
A) It enforces stricter syntax checking
B) It allows for more lenient coding
C) It enables debugging mode
D) It has no effect on the code
Correct Answer: A) It enforces stricter syntax checking

How do you declare a function in JavaScript?
A) function myFunction() {}
B) var myFunction = function() {}
C) Both A and B
D) None of the above
Correct Answer: C) A`;

const mcqs = convertMCQFormatToObjects(mcqString);
console.log(mcqs);

// Function to display quiz questions
function displayQuiz() {
    const quizContainer = document.getElementById("quiz-container");
    quizContainer.innerHTML = "";

    mcqs.forEach((mcq, index) => {
        const questionDiv = document.createElement("div");
        questionDiv.innerHTML = `
            <p>${index + 1}. ${mcq.question}</p>
            ${mcq.options.map((option, i) => `
                <label>
                    <input type="radio" name="question${index}" value="${option}">
                    ${option}
                </label>
            `).join("")}
            <hr>
        `;
        quizContainer.appendChild(questionDiv);
    });

    // Add event listener to check answers on submit
    const submitBtn = document.getElementById("submit-btn");
    submitBtn.addEventListener("click", checkAnswers);
}


function checkAnswers() {
    let score = 0;
    const userAnswers = [];
    const resultContainer = document.getElementById("result-container");
    resultContainer.innerHTML = "<h2>Results</h2>";

    mcqs.forEach((mcq, index) => {
        const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
        if (selectedOption) {
            userAnswers.push(selectedOption.value);
            if (selectedOption.value === mcq.answer) {
                score++;
                resultContainer.innerHTML += `<p>${index + 1}. ${mcq.question} - <span style="color: green;">Correct</span></p>`;
            } else {
                resultContainer.innerHTML += `<p>${index + 1}. ${mcq.question} - <span style="color: red;">Incorrect</span>. Correct answer: ${mcq.answer}</p>`;
            }
        } else {
            userAnswers.push(null);
            resultContainer.innerHTML += `<p>${index + 1}. ${mcq.question} - <span style="color: orange;">Not answered</span>. Correct answer: ${mcq.answer}</p>`;
        }
    });

    const totalQuestions = mcqs.length;
    const correctPercentage = ((score / totalQuestions) * 100).toFixed(2);

    resultContainer.innerHTML += `<h3>Score: ${score} out of ${totalQuestions}</h3>`;
    resultContainer.innerHTML += `<h3>Percentage: ${correctPercentage}%</h3>`;
}


// Call displayQuiz when the page loads
window.addEventListener("load", displayQuiz);


// Call displayQuiz when the page loads
window.addEventListener("load", displayQuiz);
</script>
<a href="LeaderBord.html" class="button">Continue</a>
</html>